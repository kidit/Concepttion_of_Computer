1. LAN의 분류와 표준

    1. 매체 액세스 방식에 의한 분류

        종류

            1. 매체 접근 방식

                1. 경쟁 방식

                    1. CSMA / CD

                        1. 다른 스테이션이 현재 채널을 사용 중인지 조사

                        2. 채널 비어 있을 때 -> 어느 스테이션이라도 채널을 사용할 수 있다.

                            1. 다중 접근 가능
                        
                            2. 단, 각 스테이션은 메시지를 보낸 직후 충돌 여부를 알아보는 충돌 검출 진행

                                1. 다른 스테이션도 전송 시작 시 -> 전송 데이터 : 상호 충돌에 의해 깨짐
                        
                        3. 충돌 발생 -> 일정 시간 지연 후 전송 재개

                    2. CSMA / CD LAN

                        1. 스테이션 회선 상태 감지 -> 충돌 피함

                        2. 초기 다중 접근 방식 : 알로하 방식

                            1. 2개 이상 장치가 동시에 전송 매체에 접근할 확률이 매우 낮을 것으로 봄

                            2. 한 스테이션 -> 프레임 전송 -> 확인 응답 -> 전송 성공
                            
                        3. 다음 세대 : CSMA 방식

                            1. 스테이션 전송 전 -> 회선 상태 감시 : 사용되지 않은 상태 확인 -> 전송

                        4. CSMA / CD : 전송 후에도 회선에서 충돌이 발생하는지 계속 감시하는 기능 추가

                            1. CS : 회선 사용 중인지 감지

                            2. MA : 회선 사용하지 않을 때 -> 누구든 사용 가능

                            3. CD : 프레임 전송 -> 충돌 여부 조사 
                            
                        동작 과정

                            1. 스테이션 -> 데이터 전송 전 회선 상태 점검

                                1. 사용 중 : 임의의 시간 동안 기다림 -> 다시 회선 상태 점검

                                2. 사용 X : 데이터 전송
                                        
                                    1. 충돌 X : 데이터 -> 성공적으로 전송

                                    2. 충돌 O

                                        1. 모든 스테이션 -> 통보 신호 (Jam 신호) 보냄 -> 충돌 사실 알림

                                            1. Jam 신호 : 32비트로 구성된 의미 없는 비트열

                                        2. 임의의 시간 동안 대기 -> 다시 회신 상태를 점검
                            
                        5. 이진 지수 백오프

                            1. 충돌이 N 번 발생하였다면 0 ~ 2^n - 1 사이의 임의의 수 (k) 선택

                            2. 그 만큼의 타임 슬롯 동안 대기

                                1. 타임 슬롯 = 2 * 전송 지연시간 + 여유 마진

                        6. 지속 방식

                            1. 비지속 방식
                                
                                1. 스테이션 회선 감시 -> 사용 중일 때 임의의 시간 후에 다시 회선을 감시함 -> 휴지 상태가 될 때 까지 기다려야 함

                                    1. 2개 이상의 스테이션이 같은 시간을 기다림 -> 동시에 전송할 확률 낮음 -> 충돌 위험 낮춤

                                    2. 스테이션 -> 전송할 프레임이 있는 데도 회선의 휴지 상태에 있을 수 있음 -> 효율 떨어짐
                                    
                                2. 1 - 지속 방식

                                    1. 스테이션 -> 회선 감시

                                        1. 회선이 비울 때 까지 계속해서 감시

                                        2. 회선 비울 때 -> 즉시 전송

                                        3. 휴지 상태일 때마다 1의 확률로 프레임 전송 -> 1 - 지속 방식

                                        4. CSMA / CD 방식 : 1 - 지속 방식 사용

                                3. p - 지속 방식

                                    1. 회선 사용 중 -> 계속 감시

                                    2. 휴지 상태 -> p의 확률로 프레임 전송

                                        1. (1-p)의 확률로 매체가 비어 있음에도  전송이 시도되지 않은 문제점이 있음

                                    3. 2, 2-1번 방식의 장점을 취함

                                        1. 충돌 위험 줄임

                                        2. 회전 사용률을 높임
                            
                        7. 최소 프레임 크기

                            1. 최소 프레임 전송 시간 (T_p) >= 2 * 네트워크 최대 전파 시간(T_p)

                                1. 전송 지연 = (프레임 길이) / (채널 전송 속도)

                                2. 전파 지연 = (총 이동 거리) / (이동 속도)

                            2. 프레임 형식 -> 최소 64바이트가 되어야 함

                                1. 헤더 : 총 14 바이트 (DA + SA + length)

                                2. 트레일러 
                                        
                                    1. CRC 4 바이트
                                        
                                    2. 데이터 최소 46 바이트

                                3. 프레임 최대 크기 : 1518 바이트 
                                    
                                4. 최대 데이터 크기 : 프레임 최대 크기 - 18 바이트 (헤더 + 트레일러 제외) = 1500 바이트

                                    1. 프리앰블 : 7 바이트이고 프레임 동기화를 위해 사용

                                    2. 시작 프레임 지시자 
                                            
                                        1. 1 바이트 크기 -> 10101011 비트 패턴을 갖음

                                        2. 프레임 시작 알리는 필드 -> 숫신자에게 다음 필드에 주소와 데이터 있음 표시

                                    3. 목적지 주소

                                        1. 6 바이트 -> 목적지의 물리 주소 들어감

                                        2. NIC에 부여된 고유의 부호화된 비트 패턴

                                        3. 일반적으로 16진법 나타냄

                                    4. 송신지 주소 

                                        1. 6 바이트 -> 프레임을 송신하는 송신지 물리 주소 들어감

                                    5. 길이 / 유형

                                        1. 데이터(PDU)의 바이트 수를 나타내는 필드

                                        2. 고정되어 있을 시 -> 프레임의 종류를 나타내는 필드

                                            1. 상위 계층의 프로토콜임 -> 상위 계층과의 대응 관계 알 수 있음
                                            
                                    6. 데이터 
                                            
                                        1. 46 ~ 1500바이트 길이 갖는 IEEE 802.2 프레임

                                        2. 데이터 필드 길이 < 데이터 필드 최소 길이 : PAD를 덧붙여 길이를 맞춤

                                    7. CRC

                                        1. 오류 검출을 위한 필드

                                        2. CRC -32 사용

                                        3. 수신 측 -> 수신된 프레임 : 오류 검출 -> 해당 프레임 폐기
                    
                    3. CSMA / CA

                        1. CSMA / CD 변형함

                        2. 버스에 흐르는 전류의 변화 -> 프레임 충돌 검출 가능

                            1. 무선 : 충돌 여부 검출 불가 -> 충돌 회피 선택

                        용어 정리

                            1. IPS : 전송 시도 전에 기다려야 하는 특3정 시간

                                1. SIFS
                                    
                                    1. 가장 짧은 대기 시간

                                    2. 데이터 전송에 관한 ACK, CTS -> 회신 응답에 사용

                                2. PIFS

                                    1. 중간 길이의 대기 시간

                                    2. 중앙 제어 장치 -> 폴링할 때 사용

                                3. DIFS

                                    1. 가장 긴 대기 시간

                                    2. 일반 데이터 전송 -> 스테이션들 간 매체들 경쟁 방식을 공유할 때 사용하는 지연시간
                        
                        동작 과정

                            1. 프레임을 전송하려는 송신 스테이션 매체 감시

                                1. 매체 사용 중 : 송신 스테이션 -> 매체가 유휴 상태가 될 때 까지 감시

                                2. 매체 유휴 상태 : 송신 스테이션 -> DIFS 시간 동안 기다림

                                    1. RTS 제어 프레임 : 수신 스테이션으로 전송
                                
                            2. RTS 프레임을 받은 수신 스테이션 -> SIFS 시간 동안 기다림

                                1. 송신 스테이션에 CTS 제어 프레임을 보냄

                                    1. CTS : 수신 스테이션 -> 데이터 받을 준비가 되었다는 정보 -> 송신 스테이션에 알림

                            3. CTS 수신한 송신 스테이션 -> SIFS 동안 기다림 -> 보내려는 프레임을 수신 스테이션을 보냄

                            4. 프레임을 받은 수신 스테이션 -> SIFS 동안 기다림 -> ACK를 통한 송신 스테이션 보냄
                        
                        3. 반드시 ACK가 필요함

                            1. 수신 스테이션 : 데이터를 잘 받았는지 송신 스테이션이 알 수 없음

                        4. 충돌 회피가 어떻게 이루어지는가?

                            1. NAV로 이루어짐

                                1. 한 스테이션이 RTS 프레임을 전송 -> 해당 프레임 : 채널 점유 시간 포함

                                2. RTS을 수신한 모든 스테이션 : NAV 타이머 생성

                                    1. NAV가 종료된 후에야 매체의 사용 유무 검사
                            
                            2. RTS에 표시된 채널 점유 시간 동안 -> 다른 스테이션 : 전송 시도하지 않음 -> 충돌 회피

                        숨겨진 터미널 문제, 노출된 터미널 문제

                            1. 유선은 충돌을 감지할 수 있지만 무선은 충돌을 감지할 수 없음

                            CSMA /CA 알고리즘을 활용한 충돌 감지

                                1. 숨겨진 터미널 문제

                                    1. 무선 네트워크에서 발생하는 문제

                                    2. 서로 다른 위치에 있는 두 장치 -> 중앙 장치와는 통신 가능

                                        1. 서로에게 직접 통신 불가 -> 데이터 충돌 발생
                                    
                                    특징

                                        1. RTS / CTS 교환 : 데이터 전송을 원하는 장치 -> RTS 패킷을 먼저 보냄

                                            1. RTS 패킷 : 수신 장치 -> 데이터 전송 의도 알림

                                                1. 다른 장치 : 채널을 사용하지 말라는 신호 보냄
                                            
                                        2. CTS 응답 : 수신 장치 -> RTS 응답 받음 -> 채널 사용 가능 판단 -> CTS 패킷 전송

                                            1. CTS 패킷 : 주변의 다른 장치 -> 전송 장치 : 데이터 보낼 것임을 알림

                                                1. 채널 사용하지 말라는 지시를 내림
                                            
                                        3. 충돌 회피 : CTS 수신 -> 주변 장치 : 다른 채널을 찾거나 전송 지연 -> 숨겨진 터미널 문제 방지

                                        4. 전송 지연 : 네트워크의 오버헤드 증가 -> 전송 효율 감소

                                        5. 네트워크 범위 내 모든 장치에 대한 알림 : 잠재적 충돌 방지하는데 도움을 줌
                                
                                2. 노출된 터미널 문제

                                    1. 무선 네트워크에서 발생하는 문제

                                    2. 한 장치 -> 다른 장치 신호 감지

                                        1. 불필요하게 전송 중단 -> 실제 : 충돌 위험 X

                                            1. 그럼에도 불구하고 네트워크 효율성이 저하되는 상황 발생
                                    
                                    특징

                                        1. 불필요한 전송 지연

                                            1. 한 장치 -> 다른 장치 신호 감지

                                            2. 해당 신호 -> 자신의 전송과 충돌할 것으로 오인 -> 자신의 데이터 전송 : 불필요하게 지연

                                            3. 자신의 데이터 전송 : 불필요하게 지연시키는 현상

                                        2. 인접 장치 간의 오해 
                                        
                                            1. 한 장치가 인접한 다른 장치 전송 감지

                                            2. 실제 : 해당 장치와는 다른 수신자에게 데이터 전송하고 있을 때 발생

                                                1. 실제로는 충돌 위험 없음 -> 전송 지연
                                        
                                        3. 네트워크 효율성 저하

                                            1. 네트워크의 전체적인 효율성 저하

                                            2. 장치 : 충돌 회피 -> 불필요하게 전송을 지연함

                                            3. 네트워크 사용 가능한 대역폭 : 충분히 활용 불가
                                        
                                        4. 해결 방법의 복잡성

                                            1. 네트워크의 구조와 프로토콜에 따라 다를 수 있음

                                        5. 무선 네트워크 한계

                                            1. 물리적 범위와 환경에 따라 다르게 전파 -> 장치 간 오해와 충돌 발생
